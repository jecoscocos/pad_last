# Лабораторная 1 — Агентство недвижимости (Flask монолит)

Полноценное веб-приложение для агентства недвижимости в Молдове. Поддерживает управление объектами недвижимости, заявки клиентов, календарь показов и загрузку фотографий.

## Функционал
- **Объекты недвижимости**: создание, просмотр, удаление с детальной информацией
- **Фотографии**: загрузка и отображение фото объектов
- **Заявки клиентов**: форма обратной связи с привязкой к объектам
- **Календарь показов**: планирование встреч с клиентами
- **Аутентификация**: регистрация и вход агентов

## Требования
- Python 3.13 (или совместимый 3.10+)
- Windows PowerShell

## Установка и запуск
```powershell
cd D:\Lab1Makeev
python -m venv .venv
.\.venv\Scripts\python -m pip install --upgrade pip
.\.venv\Scripts\pip install -r requirements.txt
.\.venv\Scripts\python run.py
```
Откройте `http://127.0.0.1:5000` в браузере.

При первом запуске автоматически создаётся база `app.db` в каталоге проекта.

## Структура проекта
```
D:\Lab1Makeev
├─ app
│  ├─ __init__.py        # Конфигурация Flask, SQLAlchemy, LoginManager
│  ├─ models.py          # Модели: User, Property, Photo, Client, Inquiry, Appointment
│  ├─ routes.py          # Маршруты (CRUD объектов, заявки, календарь)
│  ├─ templates
│  │  ├─ base.html
│  │  ├─ index.html
│  │  ├─ properties.html
│  │  ├─ property_form.html
│  │  ├─ property_detail.html
│  │  ├─ appointments.html
│  │  ├─ login.html
│  │  └─ register.html
│  └─ static
│     └─ styles.css
├─ uploads/              # Загруженные фотографии объектов
├─ run.py                # Точка входа, создание таблиц и запуск dev-сервера
├─ requirements.txt      # Зависимости
└─ README.md
```

## Основные модели
- **Property**: объект недвижимости (город, адрес, цена, тип, площадь, комнаты)
- **Photo**: фотографии объектов
- **Client**: клиенты агентства
- **Inquiry**: заявки клиентов на объекты
- **Appointment**: запланированные показы объектов

## Маршруты
- `GET /` — список объектов недвижимости (для авторизованных) или приветствие
- `GET /properties/new` — форма создания объекта
- `POST /properties/new` — создание объекта с фото
- `GET /properties/<id>` — детали объекта + форма заявки
- `POST /properties/<id>/inquiry` — отправка заявки клиента
- `GET /appointments` — календарь показов + форма планирования
- `POST /appointments` — создание записи на показ

## Примечания
- Приложение демонстрационное, без ролей и сложной авторизации.
- Фото сохраняются в папке `uploads/` с уникальными именами.
- Для продакшена используйте WSGI/ASGI‑сервер и внешнюю СУБД.
