{% extends 'base.html' %}
{% block title %}–ê–≥–µ–Ω—Ç—Å—Ç–≤–æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏{% endblock %}
{% block content %}
{% if current_user.is_authenticated %}
	<div class="hero">
		<h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</h1>
		<p>–ù–∞–π–¥–∏—Ç–µ —Å–≤–æ–π –∏–¥–µ–∞–ª—å–Ω—ã–π –¥–æ–º –≤ –ú–æ–ª–¥–æ–≤–µ</p>
	</div>
	
	<div class="card">
		<h2>–ù–∞—à–∏ –æ–±—ä–µ–∫—Ç—ã</h2>
		<div class="property-grid">
			{% for property in properties %}
			<div class="property-card" onclick="location.href='{{ url_for('property_detail', property_id=property.id) }}'">
				<div class="property-image">
					{% if property.photos %}
						<img src="{{ url_for('uploaded_file', filename=property.photos[0].file_path) }}" alt="{{ property.title }}" style="width: 100%; height: 100%; object-fit: cover;">
					{% else %}
						<span>üè†</span>
					{% endif %}
				</div>
				<div class="property-content">
					<h3 class="property-title">{{ property.title }}</h3>
					<div class="property-location">
						üìç {{ property.city }}, {{ property.address }}
					</div>
					<div class="property-price">{{ property.price_eur }} ‚Ç¨</div>
					<div class="property-details">
						{% if property.rooms %}
						<span class="property-detail">üõèÔ∏è {{ property.rooms }} –∫–æ–º–Ω.</span>
						{% endif %}
						{% if property.area_m2 %}
						<span class="property-detail">üìê {{ property.area_m2 }} –º¬≤</span>
						{% endif %}
						<span class="property-detail">{{ property.property_type }}</span>
					</div>
					<div class="property-actions">
						<a href="{{ url_for('property_detail', property_id=property.id) }}" class="btn-primary">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
					</div>
				</div>
			</div>
			{% endfor %}
		</div>
		
		{% if not properties %}
		<div class="text-center">
			<p class="text-muted mb-3">–ü–æ–∫–∞ –Ω–µ—Ç –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</p>
			<a href="{{ url_for('new_property') }}" class="btn-primary">–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤—ã–π –æ–±—ä–µ–∫—Ç</a>
		</div>
		{% else %}
		<div class="text-center mt-3">
			<a href="{{ url_for('new_property') }}" class="btn-primary">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç</a>
		</div>
		{% endif %}
	</div>
{% else %}
	<div class="hero">
		<h1>–ê–≥–µ–Ω—Ç—Å—Ç–≤–æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</h1>
		<p>–ù–∞–π–¥–∏—Ç–µ —Å–≤–æ–π –∏–¥–µ–∞–ª—å–Ω—ã–π –¥–æ–º –≤ –ú–æ–ª–¥–æ–≤–µ</p>
		<div style="margin-top: 2rem;">
			<a href="{{ url_for('register') }}" class="btn-primary" style="margin-right: 1rem;">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
			<a href="{{ url_for('login') }}" class="btn-secondary">–í–æ–π—Ç–∏</a>
		</div>
	</div>
	
	<div class="card">
		<h2>–ù–∞—à–∏ —É—Å–ª—É–≥–∏</h2>
		<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-top: 2rem;">
			<div style="text-align: center; padding: 1.5rem; background: var(--secondary); border-radius: 12px;">
				<h3>üè† –ü—Ä–æ–¥–∞–∂–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</h3>
				<p>–ü–æ–º–æ–∂–µ–º –ø—Ä–æ–¥–∞—Ç—å –≤–∞—à—É –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –ø–æ –≤—ã–≥–æ–¥–Ω–æ–π —Ü–µ–Ω–µ</p>
			</div>
			<div style="text-align: center; padding: 1.5rem; background: var(--secondary); border-radius: 12px;">
				<h3>üîë –ê—Ä–µ–Ω–¥–∞</h3>
				<p>–ù–∞–π–¥–µ–º –∏–¥–µ–∞–ª—å–Ω—É—é –∫–≤–∞—Ä—Ç–∏—Ä—É –∏–ª–∏ –¥–æ–º –¥–ª—è –∞—Ä–µ–Ω–¥—ã</p>
			</div>
			<div style="text-align: center; padding: 1.5rem; background: var(--secondary); border-radius: 12px;">
				<h3>üìã –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏</h3>
				<p>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø–æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</p>
			</div>
		</div>
	</div>
{% endif %}
{% endblock %}