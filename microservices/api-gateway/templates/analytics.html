{% extends "base.html" %}
{% block title %}–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ - –ê–≥–µ–Ω—Ç—Å—Ç–≤–æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏{% endblock %}
{% block content %}
<h2>üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h2>

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
	<div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1.5rem;">
		<h3 style="margin: 0 0 0.5rem 0; font-size: 2.5rem;">{{ stats.get('total_views', 0) }}</h3>
		<p style="margin: 0; opacity: 0.9;">–í—Å–µ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤</p>
	</div>
	
	<div class="card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 1.5rem;">
		<h3 style="margin: 0 0 0.5rem 0; font-size: 2.5rem;">{{ stats.get('unique_users', 0) }}</h3>
		<p style="margin: 0; opacity: 0.9;">–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
	</div>
	
	<div class="card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; padding: 1.5rem;">
		<h3 style="margin: 0 0 0.5rem 0; font-size: 2.5rem;">{{ stats.get('total_events', 0) }}</h3>
		<p style="margin: 0; opacity: 0.9;">–í—Å–µ–≥–æ —Å–æ–±—ã—Ç–∏–π</p>
	</div>
</div>

<h3>üìà –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è</h3>
{% if events %}
	<table class="table">
		<thead>
			<tr>
				<th>–¢–∏–ø —Å–æ–±—ã—Ç–∏—è</th>
				<th>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
				<th>–î–∞—Ç–∞</th>
				<th>–î–∞–Ω–Ω—ã–µ</th>
			</tr>
		</thead>
		<tbody>
			{% for event in events %}
			<tr>
				<td><strong>{{ event.event_type }}</strong></td>
				<td>{{ event.user_id if event.user_id else '–ê–Ω–æ–Ω–∏–º–Ω—ã–π' }}</td>
				<td>{{ event.created_at }}</td>
				<td style="font-size: 0.9em; color: #888;">{{ event.metadata }}</td>
			</tr>
			{% endfor %}
		</tbody>
	</table>
{% else %}
	<p class="muted">–°–æ–±—ã—Ç–∏–π –ø–æ–∫–∞ –Ω–µ—Ç.</p>
{% endif %}

<style>
.card {
	border-radius: 12px;
	box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}
.table {
	width: 100%;
	border-collapse: collapse;
	margin-top: 1rem;
	background: #1a1a2e;
	border-radius: 8px;
	overflow: hidden;
}
.table thead {
	background: #16213e;
}
.table th {
	padding: 1rem;
	text-align: left;
	font-weight: 600;
	color: #4facfe;
}
.table td {
	padding: 0.75rem 1rem;
	border-top: 1px solid #2a2a40;
}
.table tbody tr:hover {
	background: #252540;
}
</style>
{% endblock %}
